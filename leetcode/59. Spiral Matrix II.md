# 59. Spiral Matrix II

Given an integer n, generate a square matrix filled with elements from 1 to n2 in spiral order.

For example,
Given n = 3,

You should return the following matrix:

```
[
 [ 1, 2, 3 ],
 [ 8, 9, 4 ],
 [ 7, 6, 5 ]
]
```

# 我的思路

 1. 定义四个方：RIGHT,DOWN,LEFT,UP
 2. 确定初始位置，按照RIGHT,DOWN,LEFT,UP的顺序填充
 3. 边界位置改变填充方向，填充完一圈更新下一圈填充初始

>有点自动机的感觉

# 代码实现

```java
class Solution {
    public int[][] generateMatrix(int n) {
        final int RIGHT = 0, DOWN = 1, LEFT = 2, UP = 3;
        int direction=RIGHT, num = 1, row = 0, column = 0, startRow = 0, startColumn = 0;
        int[][] result = new int[n][n];
        while (num <= n * n) {
            switch (direction) {
                case RIGHT:
                    result[row][column] = num++;
                    if (column + 1 >= n-startColumn) {
                        row++;
                        direction = DOWN;
                    } else {
                        column++;
                    }
                    break;
                case DOWN:
                    result[row][column] = num++;
                    if (row + 1 >= n-startRow) {
                        column--;
                        direction = LEFT;
                    } else {
                        row++;
                    }
                    break;
                case LEFT:
                    result[row][column] = num++;
                    if (column - 1 < startRow) {
                        row--;
                        direction = UP;
                    } else {
                        column--;
                    }
                    break;
                case UP:
                    result[row][column] = num++;
                    if (row-1 <= startRow) {
                        row=++startRow;
                        column=++startColumn;
                        direction=RIGHT;
                    } else {
                        row--;
                    }
                    break;
                default:
                    break;
            }
        }
        return result;
    }
}
```

# 分析对比

类似的思路，不同的实现

代码实现：

```java
public static int[][] generateMatrix(int n) {
	int[][] ret = new int[n][n];
	int left = 0,top = 0;
	int right = n -1,down = n - 1;
	int count = 1;
	while (left <= right) {
		for (int j = left; j <= right; j ++) {
			ret[top][j] = count++;
		}
		top ++;
		for (int i = top; i <= down; i ++) {
			ret[i][right] = count ++;
		}
		right --;
		for (int j = right; j >= left; j --) {
			ret[down][j] = count ++;
		}
		down --;
		for (int i = down; i >= top; i --) {
			ret[i][left] = count ++;
		}
		left ++;
	}
	return ret;
}
```